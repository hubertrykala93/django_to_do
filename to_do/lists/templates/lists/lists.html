{% extends 'core/base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="side-content categories-wrapper">
    <aside>
        <h4 class="sidebar-title categories-title">Categories</h4>
        {% if categories %}
        <ul class="categories-list">
            {% for category in categories %}
            <li data-id="{{ category.id }}">
                <span>{{ category }}</span>
                <button class="remove-category">
                    <i class="ri-delete-bin-line"></i>
                </button>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="no-items-message">No categories</p>
        {% endif %}

        <button class="btn add-category-btn" type="submit">
            <i class="ri-play-list-add-line"></i>
            Add Category
        </button>
    </aside>

    <div class="side-content-body categories-content-body">
        {% if categories %}
        {% for category in categories %}
        <div class="category-content" data-id="{{ category.id }}">
            <h3 class="category-title">{{ category }}</h3>
            {% if not tasks %}
            <p class="no-items-message">No items in the current list. Add new ones.</p>
            {% else %}


            <form class="login-form" method="post" action="">
                {% csrf_token %}
                <div class="form-row">
                    <div class="input-wrapper">
                        <input type="text" placeholder="Task Name">
                    </div>

                    <div class="input-wrapper">
                        <textarea placeholder="Task Description"></textarea>
                    </div>
                </div>


                <div class="submit-row">
                    <button class="btn" type="submit">
                        <i class="ri-login-circle-line"></i>
                        Add Task
                    </button>
                </div>

            </form>


            {% for task in tasks %}
            <ul class="tasks-list">
                <li> {{ task.content }}</li>
            </ul>
            {% endfor %}
            {% endif %}
        </div>
        {% endfor %}
        {% endif %}
    </div>
</div>
{% endblock %}